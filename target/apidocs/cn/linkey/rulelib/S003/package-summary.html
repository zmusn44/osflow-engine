<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_151) on Thu Jan 28 15:48:06 CST 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>cn.linkey.rulelib.S003 (osflow-engine 1.1.2 API)</title>
<meta name="date" content="2021-01-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="cn.linkey.rulelib.S003 (osflow-engine 1.1.2 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li class="navBarCell1Rev">程序包</li>
<li>类</li>
<li><a href="package-use.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../cn/linkey/rulelib/Event/package-summary.html">上一个程序包</a></li>
<li><a href="../../../../cn/linkey/workflow/api/package-summary.html">下一个程序包</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?cn/linkey/rulelib/S003/package-summary.html" target="_top">框架</a></li>
<li><a href="package-summary.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="程序包" class="title">程序包&nbsp;cn.linkey.rulelib.S003</h1>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="类概要表, 列表类和解释">
<caption><span>类概要</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">类</th>
<th class="colLast" scope="col">说明</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B002.html" title="cn.linkey.rulelib.S003中的类">R_S003_B002</a></td>
<td class="colLast">
<div class="block">用户任务结束动作 WF_RunActionid=EndUserTask
 
 当用户能够点击办理完成执行EndUserTask时， 说明此用户已经可以结束本节点了，无需再进行串行
 返回转交者的检测 用户能不能点击办理完成按扭交由R_S003_B033处理单显示规则中去控制.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B003.html" title="cn.linkey.rulelib.S003中的类">R_S003_B003</a></td>
<td class="colLast">
<div class="block">本规则为跳转到任意环节 WF_RunActionid=GoToAnyNode
 
 参数说明:需要传入WF_NextNodeid节点id,WF_NextUserList用户id,WF_Remark办理意见</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B004.html" title="cn.linkey.rulelib.S003中的类">R_S003_B004</a></td>
<td class="colLast">
<div class="block">回退首环节,运行逻辑如下： 
 1.检测本节点是否有后置事件节点，如果有则运行本节点的后置路由线并由路由线推进到后置节点后停止，如果没有则直接结束本环节 
 2.不管本环节能不能结束当前用户的任务是需要结束的，并且也需要强制启动首环节 
 3.得到首环节的Nodeid，然后直接启动首节点和流程启动者的任务
 4.参数说明:回退首环节时无需在WF_NextUserList中传入用户参数，也无需在WF_NextNodeid中传入节点id,全部由系统自动在后台分析获得</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B005.html" title="cn.linkey.rulelib.S003中的类">R_S003_B005</a></td>
<td class="colLast">
<div class="block">本规则为回退上一环节 WF_RunActionid=GoToPrevNode 
 与回退上一用户的功能差别不太大 
 
 参数说明:本动作无需传入参数，系统自动获取</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B006.html" title="cn.linkey.rulelib.S003中的类">R_S003_B006</a></td>
<td class="colLast">
<div class="block">本规则为回退上一用户 WF_RunActionid=GoToPrevUser
 
 根据用户BPM_InsUserList表中的SourceOrUnid字段找到启动本用户的上一用户的文档信息，并启动上一用户所在的节点和用户实例
 
 参数说明:无需要传入参数</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B007.html" title="cn.linkey.rulelib.S003中的类">R_S003_B007</a></td>
<td class="colLast">
<div class="block">本规则为撤销 WF_RunActionid=Undo
 
 
 暂不支持转交后的收回操作
 因为转交后的SourceOrUnid是上一环节的SourceOrUnid而不是转交人的
 如果要支持则需要特别的判断ReassignmentUserid用户标记来实现而不是SourceOrUnid
 
 
 参数说明:本方法所有参数均在后台分析获得，无需传入任何参数</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B008.html" title="cn.linkey.rulelib.S003中的类">R_S003_B008</a></td>
<td class="colLast">
<div class="block">本规则为实现转他人处理功能 WF_RunActionid=GoToOthers
 
 转他人处理时，环节的状态是不用变化的，只需要结束当前用户的处理权限然后再启动新的用户即可 参数说明:需要传入WF_NextUserList参数,WF_ReassignmentFlag转交返回标识参数,WF_Remark办理意见</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B015.html" title="cn.linkey.rulelib.S003中的类">R_S003_B015</a></td>
<td class="colLast">
<div class="block">启动后置事件</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B016.html" title="cn.linkey.rulelib.S003中的类">R_S003_B016</a></td>
<td class="colLast">
<div class="block">具有自动推进功能
 
 结束后置事件，后置事件结束时要连带结束所有进入到本后置节点的userTask节点</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B017.html" title="cn.linkey.rulelib.S003中的类">R_S003_B017</a></td>
<td class="colLast">
<div class="block">本规则负责启动路由线段</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B018.html" title="cn.linkey.rulelib.S003中的类">R_S003_B018</a></td>
<td class="colLast">
<div class="block">具有自动推进功能 本规则负责结束路由线段 路由线段结束后会自动推进到路由线后面的节点</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B019.html" title="cn.linkey.rulelib.S003中的类">R_S003_B019</a></td>
<td class="colLast">
<div class="block">本规则负责启动userTask任务
 userTask节点不具备自动推进功能,必须由人工手动推进 
 当Action运行到本规则时就算结束一次推进，因为遇到userTask节点就表示启动的相应的用户任务
 BeanCtx.setCtxData("UserTaskAutoRunFlag","1")时userTask具有自动推进功能</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B020.html" title="cn.linkey.rulelib.S003中的类">R_S003_B020</a></td>
<td class="colLast">
<div class="block">本规则运行逻辑
 
 
  1.首先结束当前用户的任务实例 
  2.看本环节有没有后置事件节点，如果没有则看本环节能不能结束，如果可以结束就直接结束了 
  3.如果有，则直接运行本环节后面的路由线，由路由线推进到后置事件中
 </div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B021.html" title="cn.linkey.rulelib.S003中的类">R_S003_B021</a></td>
<td class="colLast">
<div class="block">本规则负责启动网关</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B022.html" title="cn.linkey.rulelib.S003中的类">R_S003_B022</a></td>
<td class="colLast">
<div class="block">结束网关的运行</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B023.html" title="cn.linkey.rulelib.S003中的类">R_S003_B023</a></td>
<td class="colLast">
<div class="block">具有自动推进功能,但能根据事件执行结果进行中断 本规则主要负责启动前置事件节点 前置事件节点在通过检测规则后具有自动推进到下一节点的功能</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B024.html" title="cn.linkey.rulelib.S003中的类">R_S003_B024</a></td>
<td class="colLast">
<div class="block">本规则负责结束前置节点事件</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B025.html" title="cn.linkey.rulelib.S003中的类">R_S003_B025</a></td>
<td class="colLast">
<div class="block">本规则负责启动和结束节点</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B035.html" title="cn.linkey.rulelib.S003中的类">R_S003_B035</a></td>
<td class="colLast">
<div class="block">运行工作流引擎

 
    5.准备运行工作流的map参数************************************开始
    全部可用参数如下：
    WF_Processid          流程unid
    WF_DocUnid            文档unid
    WF_Action             动作id标识
    WF_NextNodeid         提交下一环节类型为HashSet(String)
    WF_NextUserList       提交的下一环节参与者类型HashMap(String,String);key为 COPYUSER时表示传阅用户
    WF_NextNodeUser       所有提交的用户名称列表多个用逗号分隔，此值从WF_NextUserList参数中拆分而来
    WF_NextUserDept       提交下一环节的参与者所指定的部门id map参数，兼职或多架构时可以强制让用户以某个身份来处理
    WF_StopNodeType       停止推进的节点类型 String
    WF_UsePostOwner       强制使用提交的WF_NextUserList参数的用户作为参与者 String
    WF_SendSms            发送手机短信标记 String
    WF_IsBackFlag         回退后是否需要返回标记1表示再次提交，2表示直接返回 String
    WF_ReassignmentFlag   转交后是否需要返回标记1表示不需要，2表示需要返回 String
    WF_AllRouterPath      使用指定的路径集合进行运行 String
    WF_RunActionid        动作标识由WF_Action传入
    WF_RunNodeid          要运行的节点，一般由Action规则根据后续节点生成
    WF_Remark             审批意见
    WF_IsAgree            会签时Y表示同意，N表示不同意
    WF_SubNextUserList    要提交的子流程的目标节点用户
 private Rdb rdb = BeanCtx.getRdb();</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B039.html" title="cn.linkey.rulelib.S003中的类">R_S003_B039</a></td>
<td class="colLast">
<div class="block">本规则为实现返回给转交者 WF_Action=BackToDeliver
 
 返回转交者时，环节的状态是不用变化的，只需要结束当前用户的处理权限然后再启动新的用户即可
 
 参数说明:无需传入参数</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B041.html" title="cn.linkey.rulelib.S003中的类">R_S003_B041</a></td>
<td class="colLast">
<div class="block">本规则为回退给回退者 WF_RunActionid=BackToReturnUser
 
 根据SourceOrUnid找到回退者的userid,nodeid然后进行启动即可</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B042.html" title="cn.linkey.rulelib.S003中的类">R_S003_B042</a></td>
<td class="colLast">
<div class="block">回退任意环节,运行逻辑如下： 1.检测本节点是否有后置事件节点，如果有则运行本节点的后置路由线并由路由线推进到后置节点后停止，如果没有则直接结束本环节 2.不管本环节能不能结束当前用户的任务是需要结束的，并且也需要强制回退的环节 2.得到回退环节的Nodeid，然后直接启动节点和用户任务
 
 参数说明:需要传入WF_NextNodeid节点id,WF_NextUserList目标用户,WF_Remark办理意见,WF_IsBackFlag回退类型</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B043.html" title="cn.linkey.rulelib.S003中的类">R_S003_B043</a></td>
<td class="colLast">
<div class="block">本规则为实现提交下一会签用户 WF_RunActionid=GoToNextParallelUser
 
 提交下一会签用户时环节的状态是不用变化的，只需要结束当前用户的处理权限即可，后面的会签者同样已经具有处理权限
 
 参数说明:调用本规则时无需传入参数，因为下一会签用户是自动计算出来的</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B044.html" title="cn.linkey.rulelib.S003中的类">R_S003_B044</a></td>
<td class="colLast">
<div class="block">本规则为实现提交下一串行审批用户 WF_RunActionid=GoToNextSerialUser

 提交下一串行审批用户时环节的状态是不用变化的，只需要结束当前用户的处理权限， 然后启动后面排队的第一个用户的任务即可 参数说明:无需传入参数</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B045.html" title="cn.linkey.rulelib.S003中的类">R_S003_B045</a></td>
<td class="colLast">
<div class="block">本规则负责启动businessRuleTask Node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B046.html" title="cn.linkey.rulelib.S003中的类">R_S003_B046</a></td>
<td class="colLast">
<div class="block">本规则负责结束buinessRuleTask节点</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B049.html" title="cn.linkey.rulelib.S003中的类">R_S003_B049</a></td>
<td class="colLast">
<div class="block">启动startEvent节点</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B050.html" title="cn.linkey.rulelib.S003中的类">R_S003_B050</a></td>
<td class="colLast">
<div class="block">结束startEvent</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B054.html" title="cn.linkey.rulelib.S003中的类">R_S003_B054</a></td>
<td class="colLast">
<div class="block">参数说明:本动作无需传入参数
 
 暂停流程</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B055.html" title="cn.linkey.rulelib.S003中的类">R_S003_B055</a></td>
<td class="colLast">
<div class="block">恢复流程</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B057.html" title="cn.linkey.rulelib.S003中的类">R_S003_B057</a></td>
<td class="colLast">
<div class="block">强制归档文件,只需要运行archiveDocument()函数即可
 
 参数说明:无需传入参数</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B072.html" title="cn.linkey.rulelib.S003中的类">R_S003_B072</a></td>
<td class="colLast">
<div class="block">强制启动用户任务 参数说明: 1.需要在Params中传入WF_NextNodeid节点Nodeid参数只能传一个 3.需要在Params中传入WF_NextUserList作为目的节点要启动的用户列表 4.需要在Params中传入WF_Remark作为审批意见</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B073.html" title="cn.linkey.rulelib.S003中的类">R_S003_B073</a></td>
<td class="colLast">
<div class="block">强制结束用户任务</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B074.html" title="cn.linkey.rulelib.S003中的类">R_S003_B074</a></td>
<td class="colLast">
<div class="block">强制结束节点</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B080.html" title="cn.linkey.rulelib.S003中的类">R_S003_B080</a></td>
<td class="colLast">
<div class="block">结束当前环节并自动提交到下一节点
 
 
 Action=GoToNextNode 
 当提交的Actionid参数为GoToNextNode时，表示由系统自动定位用户当前所在的节点id
 系统将强制结束当前节点并自动寻找本节点的后继路由线，计算路由条件找到符合条件的节点进行启动.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_B096.html" title="cn.linkey.rulelib.S003中的类">R_S003_B096</a></td>
<td class="colLast">
<div class="block">流程撤销
  Mr.Yun
  8.0
  2019-01-15 17:10:15</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../cn/linkey/rulelib/S003/R_S003_P001.html" title="cn.linkey.rulelib.S003中的类">R_S003_P001</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li class="navBarCell1Rev">程序包</li>
<li>类</li>
<li><a href="package-use.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-all.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../cn/linkey/rulelib/Event/package-summary.html">上一个程序包</a></li>
<li><a href="../../../../cn/linkey/workflow/api/package-summary.html">下一个程序包</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?cn/linkey/rulelib/S003/package-summary.html" target="_top">框架</a></li>
<li><a href="package-summary.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2021. All rights reserved.</small></p>
</body>
</html>
